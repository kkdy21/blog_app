{% extends "/layout/main_layout.html" %}
{% block content %}
<!-- Main Content -->
<div class="container mt-4">
    <div class="row justify-content-center">
        <!-- Blog Posts -->
        <div class="col-lg-8">
            {% if filter_tag %}
            <div class="alert alert-info d-flex justify-content-between align-items-center" role="alert">
                <div>
                    <i class="bi bi-tag-fill me-2"></i>
                    <span class="fw-bold">태그:</span>
                    <span class="badge bg-primary">{{ filter_tag }}</span>
                </div>
                <a href="/blogs" class="btn btn-sm btn-info">
                    <i class="bi bi-x-lg me-1"></i> 필터 해제
                </a>
            </div>
            {% endif %}

            {% for blog in all_blogs %}
            <div class="mb-4 border-bottom ">
                <h2 class="fw-bold">{{ blog.title }}</h2>
                <p class="text-muted">Posted on {{ blog.modified_dt }} by {{ blog.author.name }}</p>
                <div class="mb-2">
                    {% for tag in blog.tags %}
                    <a href="/blogs/tags/{{ tag.name }}" class="badge bg-secondary text-decoration-none me-1">{{
                        tag.name }}</a>
                    {% endfor %}
                </div>
                <div class="row">
                    <div class="col-lg-8">
                        <p class="mt-3">{{ blog.content | safe }}</p>
                    </div>
                    <div class="col-lg-4">
                        <img src="{{ blog.image_loc }}" class="img-fluid" alt="Blog Image">
                    </div>
                </div>
                <a href="/blogs/show/{{blog.id}}" class="btn btn-primary mb-4">Read More</a>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<!-- End of Main Content-->
{% endblock %}